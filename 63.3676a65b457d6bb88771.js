(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{Hh4P:function(t,n,o){"use strict";o.r(n),o.d(n,"PenjualPageModule",function(){return T});var i=o("ofXK"),e=o("3Pt+"),a=o("TEn/"),c=o("tyNb"),r=o("fXoL"),b=o("A7lL");function s(t,n){1&t&&r.Kb(0,"img",13)}function l(t,n){if(1&t&&r.Kb(0,"img",14),2&t){const t=r.Yb().$implicit;r.cc("src",t.photo,r.hc)}}function u(t,n){if(1&t&&(r.Ob(0,"ion-item"),r.Ob(1,"ion-avatar",2),r.jc(2,s,1,0,"img",11),r.jc(3,l,1,1,"img",12),r.Nb(),r.Ob(4,"ion-label"),r.Ob(5,"h2"),r.lc(6),r.Nb(),r.Ob(7,"h3"),r.lc(8),r.Nb(),r.Ob(9,"p"),r.lc(10),r.Nb(),r.Nb(),r.Nb()),2&t){const t=n.$implicit,o=r.Yb(2);r.zb(2),r.bc("ngIf",""==t.photo),r.zb(1),r.bc("ngIf",""!=t.photo),r.zb(3),r.mc(t.product_name),r.zb(2),r.mc(o.formatRupiah(t.price,"Rp. ")),r.zb(2),r.oc("Kode : ",t.pcode," | Stok : ",t.jumlah,"")}}function d(t,n){if(1&t&&(r.Ob(0,"ion-list"),r.jc(1,u,11,6,"ion-item",10),r.Nb()),2&t){const t=r.Yb();r.zb(1),r.bc("ngForOf",t.listProduct)}}const g=function(){return["/penjual/mutasi"]},p=function(){return["/penjual/tambahbarang"]};let h=(()=>{class t{constructor(t,n){this.db=t,this.NavController=n,this.listProduct=[]}ngOnInit(){this.db.getDatabaseState().subscribe(t=>{t&&this.db.getProducts().subscribe(t=>{this.listProduct=t})})}formatRupiah(t,n){var o=parseFloat(t).toString().split(","),i=o[0].length%3,e=o[0].substr(0,i),a=o[0].substr(i).match(/\d{3}/gi);return a&&(e+=(i?".":"")+a.join(".")),e=null!=o[1]?e+","+o[1]:e,null==n?e:e?"Rp. "+e:""}goBack(){this.NavController.navigateBack([""],{replaceUrl:!0})}}return t.\u0275fac=function(n){return new(n||t)(r.Jb(b.a),r.Jb(a.I))},t.\u0275cmp=r.Db({type:t,selectors:[["app-penjual"]],decls:19,vars:5,consts:[["mode","ios"],[2,"height","57px","padding-top","5px"],["slot","start"],["color","light",3,"click"],["name","chevron-back-outline"],[2,"--background","#eaeaea","color","#333333"],["size","small",2,"padding-bottom","7px"],["expand","block","color","medium","fill","solid",3,"routerLink"],["expand","block","color","warning","fill","solid",3,"routerLink"],[4,"ngIf"],[4,"ngFor","ngForOf"],["src","./assets/miranda.jpg",4,"ngIf"],[3,"src",4,"ngIf"],["src","./assets/miranda.jpg"],[3,"src"]],template:function(t,n){1&t&&(r.Ob(0,"ion-header",0),r.Ob(1,"ion-toolbar",1),r.Ob(2,"ion-buttons",2),r.Ob(3,"ion-button",3),r.Wb("click",function(){return n.goBack()}),r.Kb(4,"ion-icon",4),r.Nb(),r.Nb(),r.Ob(5,"ion-title"),r.lc(6,"Penjual"),r.Nb(),r.Nb(),r.Ob(7,"ion-toolbar",5),r.Ob(8,"ion-title",6),r.Ob(9,"ion-grid"),r.Ob(10,"ion-row"),r.Ob(11,"ion-col"),r.Ob(12,"ion-button",7),r.lc(13,"Lihat Mutasi"),r.Nb(),r.Nb(),r.Ob(14,"ion-col"),r.Ob(15,"ion-button",8),r.lc(16,"Tambah Barang"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Ob(17,"ion-content",0),r.jc(18,d,2,1,"ion-list",9),r.Nb()),2&t&&(r.zb(12),r.bc("routerLink",r.dc(3,g)),r.zb(3),r.bc("routerLink",r.dc(4,p)),r.zb(3),r.bc("ngIf",n.listProduct.length>0))},directives:[a.r,a.D,a.i,a.h,a.s,a.C,a.q,a.A,a.l,a.L,c.h,a.m,i.i,a.x,i.h,a.u,a.d,a.w],styles:["ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background:#e91e63;color:#fff}ion-content[_ngcontent-%COMP%]   #container[_ngcontent-%COMP%]{padding:10px;position:absolute;left:0;right:0;top:47%;transform:translateY(-50%)}.label-title[_ngcontent-%COMP%]{white-space:break-spaces!important}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background:#2f9495!important;min-height:70px}"]}),t})();var m=o("mrSG"),f=o("a/9d");function O(t,n){if(1&t&&(r.Ob(0,"div"),r.Kb(1,"img",15),r.Nb()),2&t){const t=r.Yb();r.zb(1),r.cc("src",t.photo,r.hc)}}let N=(()=>{class t{constructor(t,n,o,i){this.db=t,this.NavController=n,this.toastController=o,this.camera=i}ngOnInit(){}gettingFromCamera(){this.camera.getPicture({quality:100,destinationType:this.camera.DestinationType.DATA_URL,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE,targetWidth:720,correctOrientation:!0,sourceType:this.camera.PictureSourceType.CAMERA}).then(t=>{this.photo="data:image/jpeg;base64,"+t},t=>{})}gettingFromGalery(){this.camera.getPicture({quality:100,destinationType:this.camera.DestinationType.DATA_URL,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE,targetWidth:720,correctOrientation:!0,sourceType:this.camera.PictureSourceType.PHOTOLIBRARY}).then(t=>{this.photo="data:image/jpeg;base64,"+t},t=>{})}presentToast(t,n){return Object(m.a)(this,void 0,void 0,function*(){(yield this.toastController.create({message:n,color:t,position:"bottom",mode:"ios",duration:2e3})).present()})}simpanBarang(){""!=this.pcode&&""!=this.product_name&&""!=this.price&&""!=this.jumlah&&null!=this.pcode&&null!=this.product_name&&null!=this.price&&null!=this.jumlah&&""!=this.photo&&null!=this.photo?this.db.addProduct(this.pcode,this.product_name,this.jumlah,this.price,this.photo).then(t=>{parseInt(t)>0?(this.presentToast("success","Berhasil di tambahkan"),this.goBack()):this.presentToast("danger","Gagal di tambahkan, Pastikan kode Produk uniq")}):this.presentToast("secondary","Semua form wajib diisi")}goBack(){this.NavController.navigateBack(["/penjual"],{replaceUrl:!0})}}return t.\u0275fac=function(n){return new(n||t)(r.Jb(b.a),r.Jb(a.I),r.Jb(a.N),r.Jb(f.a))},t.\u0275cmp=r.Db({type:t,selectors:[["app-tambahbarang"]],decls:32,vars:5,consts:[["mode","ios"],[2,"height","57px","padding-top","5px"],["slot","start"],["color","light",3,"click"],["name","chevron-back-outline"],["lines","none"],["placeholder","Kode Produk","type","number",3,"ngModel","ngModelChange"],["placeholder","Nama Produk",3,"ngModel","ngModelChange"],["placeholder","Stok","type","number",3,"ngModel","ngModelChange"],["placeholder","Harga","type","number",3,"ngModel","ngModelChange"],["color","medium","size","small",3,"click"],["slot","start","name","camera"],["slot","start","name","image"],[4,"ngIf"],["expand","block","color","warning",3,"click"],[3,"src"]],template:function(t,n){1&t&&(r.Ob(0,"ion-header",0),r.Ob(1,"ion-toolbar",1),r.Ob(2,"ion-buttons",2),r.Ob(3,"ion-button",3),r.Wb("click",function(){return n.goBack()}),r.Kb(4,"ion-icon",4),r.Nb(),r.Nb(),r.Ob(5,"ion-title"),r.lc(6,"Tambah Barang"),r.Nb(),r.Nb(),r.Nb(),r.Ob(7,"ion-content",0),r.Ob(8,"ion-card"),r.Ob(9,"ion-card-content"),r.Ob(10,"ion-item",5),r.Ob(11,"ion-input",6),r.Wb("ngModelChange",function(t){return n.pcode=t}),r.Nb(),r.Nb(),r.Ob(12,"ion-item",5),r.Ob(13,"ion-input",7),r.Wb("ngModelChange",function(t){return n.product_name=t}),r.Nb(),r.Nb(),r.Ob(14,"ion-item",5),r.Ob(15,"ion-input",8),r.Wb("ngModelChange",function(t){return n.jumlah=t}),r.Nb(),r.Nb(),r.Ob(16,"ion-item",5),r.Ob(17,"ion-input",9),r.Wb("ngModelChange",function(t){return n.price=t}),r.Nb(),r.Nb(),r.Ob(18,"ion-label"),r.lc(19,"Pilih Foto Produk"),r.Nb(),r.Ob(20,"div"),r.Ob(21,"ion-button",10),r.Wb("click",function(){return n.gettingFromCamera()}),r.Kb(22,"ion-icon",11),r.lc(23," Buka Kamera"),r.Nb(),r.Ob(24,"ion-button",10),r.Wb("click",function(){return n.gettingFromGalery()}),r.Kb(25,"ion-icon",12),r.lc(26," Buka Galeri"),r.Nb(),r.Nb(),r.jc(27,O,2,1,"div",13),r.Kb(28,"br"),r.Kb(29,"br"),r.Ob(30,"ion-button",14),r.Wb("click",function(){return n.simpanBarang()}),r.lc(31,"Simpan"),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.zb(11),r.bc("ngModel",n.pcode),r.zb(2),r.bc("ngModel",n.product_name),r.zb(2),r.bc("ngModel",n.jumlah),r.zb(2),r.bc("ngModel",n.price),r.zb(10),r.bc("ngIf",""!=n.photo))},directives:[a.r,a.D,a.i,a.h,a.s,a.C,a.m,a.j,a.k,a.u,a.t,a.J,e.d,e.e,a.M,a.w,i.i],styles:["ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background:#e91e63;color:#fff}ion-content[_ngcontent-%COMP%]{--background:#eaeaea}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{border:1px solid #eaeaea!important;margin-bottom:10px;border-radius:5px}.label-title[_ngcontent-%COMP%]{white-space:break-spaces!important}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background:#2f9495!important;min-height:70px}"]}),t})();o("UDhR");var k=o("wd/R");function M(t,n){1&t&&r.Kb(0,"img",10)}function C(t,n){if(1&t&&r.Kb(0,"img",11),2&t){const t=r.Yb().$implicit;r.cc("src",t.photo,r.hc)}}function P(t,n){1&t&&(r.Ob(0,"ion-badge",12),r.Kb(1,"ion-icon",13),r.lc(2," in"),r.Nb())}function y(t,n){1&t&&(r.Ob(0,"ion-badge",14),r.Kb(1,"ion-icon",15),r.lc(2," out"),r.Nb())}function j(t,n){if(1&t&&(r.Ob(0,"ion-item"),r.Ob(1,"ion-avatar",2),r.jc(2,M,1,0,"img",6),r.jc(3,C,1,1,"img",7),r.Nb(),r.Ob(4,"ion-label"),r.Ob(5,"h2"),r.lc(6),r.Nb(),r.Ob(7,"h3"),r.lc(8),r.Nb(),r.Ob(9,"p"),r.lc(10),r.Kb(11,"br"),r.lc(12),r.Nb(),r.Nb(),r.jc(13,P,3,0,"ion-badge",8),r.jc(14,y,3,0,"ion-badge",9),r.Nb()),2&t){const t=n.$implicit,o=r.Yb();r.zb(2),r.bc("ngIf",""==t.photo),r.zb(1),r.bc("ngIf",""!=t.photo),r.zb(3),r.mc(t.product_name),r.zb(2),r.oc("",t.pcode," - ",o.confertDate(t.tgl_mutasi),""),r.zb(2),r.nc(" Qty : ",t.jumlah," "),r.zb(2),r.nc(" ",t.order_id," "),r.zb(1),r.bc("ngIf","I"==t.type_mutasi),r.zb(1),r.bc("ngIf","O"==t.type_mutasi)}}const _=[{path:"",component:h},{path:"tambahbarang",component:N},{path:"mutasi",component:(()=>{class t{constructor(t,n,o,i){this.db=t,this.NavController=n,this.alertController=o,this.loadingController=i,this.listMutasi=[]}ngOnInit(){}ionViewDidEnter(){this.db.getDatabaseState().subscribe(t=>{t&&(this.db.loadMutasi(),this.db.getMutasi().subscribe(t=>{this.listMutasi=t,console.log(this.listMutasi)}))})}confertDate(t){return k(t).format("dddd, DD MMM YYYY")}goBack(){this.NavController.navigateBack(["/penjual"],{replaceUrl:!0})}}return t.\u0275fac=function(n){return new(n||t)(r.Jb(b.a),r.Jb(a.I),r.Jb(a.b),r.Jb(a.G))},t.\u0275cmp=r.Db({type:t,selectors:[["app-mutasi"]],decls:12,vars:1,consts:[["mode","ios"],[2,"height","57px","padding-top","5px"],["slot","start"],["color","light",3,"click"],["name","chevron-back-outline"],[4,"ngFor","ngForOf"],["src","./assets/miranda.jpg",4,"ngIf"],[3,"src",4,"ngIf"],["slot","end","color","success",4,"ngIf"],["slot","end","color","warning",4,"ngIf"],["src","./assets/miranda.jpg"],[3,"src"],["slot","end","color","success"],["name","download-outline"],["slot","end","color","warning"],["name","log-out-outline"]],template:function(t,n){1&t&&(r.Ob(0,"ion-header",0),r.Ob(1,"ion-toolbar",1),r.Ob(2,"ion-buttons",2),r.Ob(3,"ion-button",3),r.Wb("click",function(){return n.goBack()}),r.Kb(4,"ion-icon",4),r.Nb(),r.Nb(),r.Ob(5,"ion-title"),r.lc(6,"Mutasi"),r.Nb(),r.Nb(),r.Nb(),r.Ob(7,"ion-content",0),r.Ob(8,"ion-list"),r.Ob(9,"ion-list-header"),r.lc(10," List Mutasi "),r.Nb(),r.jc(11,j,15,9,"ion-item",5),r.Nb(),r.Nb()),2&t&&(r.zb(11),r.bc("ngForOf",n.listMutasi))},directives:[a.r,a.D,a.i,a.h,a.s,a.C,a.m,a.x,a.y,i.h,a.u,a.d,i.i,a.w,a.g],styles:["ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background:#e91e63;color:#fff}.custom-badge[_ngcontent-%COMP%]{position:absolute;top:9px;right:7px;background:#ff5722;color:#fff;width:19px;height:19px;border-radius:13px;font-size:13px;text-align:center;padding-top:3px}.label-title[_ngcontent-%COMP%]{white-space:break-spaces!important}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{min-height:70px}"]}),t})()}];let v=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({imports:[[c.i.forChild(_)],c.i]}),t})(),T=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({imports:[[i.b,e.a,a.E,v]]}),t})()}}]);