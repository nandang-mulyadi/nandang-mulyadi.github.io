(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{"ct+p":function(t,e,n){"use strict";n.r(e),n.d(e,"HomePageModule",function(){return p});var a=n("ofXK"),r=n("TEn/"),i=n("3Pt+"),o=n("tyNb"),c=n("mrSG"),l=n("fXoL"),s=n("9lwF"),d=n("+Wxr");function b(t,e){if(1&t){const t=l.Pb();l.Mb(0),l.Ob(1,"ion-button",1),l.Wb("click",function(){return l.gc(t),l.Yb().updateRow()}),l.lc(2," Update Row "),l.Nb(),l.Lb()}}function m(t,e){if(1&t){const t=l.Pb();l.Ob(0,"ion-button",1),l.Wb("click",function(){return l.gc(t),l.Yb().insertRow()}),l.lc(1," Insert Row "),l.Nb()}}function u(t,e){if(1&t){const t=l.Pb();l.Ob(0,"ion-row"),l.Ob(1,"ion-col"),l.lc(2),l.Nb(),l.Ob(3,"ion-col"),l.lc(4),l.Nb(),l.Ob(5,"ion-col"),l.Ob(6,"ion-button",6),l.Wb("click",function(){l.gc(t);const n=e.$implicit;return l.Yb().deleteRow(n)}),l.Kb(7,"ion-icon",7),l.Nb(),l.Ob(8,"ion-button",8),l.Wb("click",function(){l.gc(t);const n=e.$implicit;return l.Yb().enableUpdate(n)}),l.Kb(9,"ion-icon",9),l.Nb(),l.Nb(),l.Nb()}if(2&t){const t=e.$implicit;l.zb(2),l.nc(" ",t.pid," "),l.zb(2),l.nc(" ",t.Name," ")}}const h=function(){return[""]},L=[{path:"",component:(()=>{class t{constructor(t,e,n){this.platform=t,this.sqlite=e,this.sqlitePorter=n,this.database_name="ecommerce.db",this.table_name="ecommerce",this.name_model="",this.row_data=[],this.platform.ready().then(()=>{this.createDB()}).catch(t=>{console.log(t)})}createDB(){this.sqlite.create({name:this.database_name,location:"default"}).then(t=>{this.databaseObj=t}).catch(t=>{alert("error "+JSON.stringify(t))})}dummyCreate(t,e,n,a){return new Promise((r,i)=>{let o=`CREATE TABLE IF NOT EXISTS ${t} (${e})`;this.databaseObj.executeSql(`DROP TABLE IF EXISTS ${t}`,[]).then(()=>{this.databaseObj.executeSql(o,[]).then(()=>{n?this.databaseObj.executeSql(a,[]).then(()=>{this.databaseObj.executeSql(`SELECT * FROM ${t}`,[]).then(t=>{let e=[];if(t.rows.length>0)for(var n=0;n<t.rows.length;n++)e.push(t.rows.item(n));r(JSON.stringify(e))}).catch(e=>{i(t+"error select"+JSON.stringify(e))})}).catch(e=>{i(t+"error insert"+JSON.stringify(e))}):r(t+" created success")}).catch(e=>{i(t+" error create"+JSON.stringify(e))})}).catch(e=>{i(t+"error truncate"+JSON.stringify(e))})})}createTable(){return Object(c.a)(this,void 0,void 0,function*(){try{let t="stock",e="pcode varchar(200) NOT NULL, jumlah int(11) DEFAULT 0",n=`insert into ${t} (pcode,jumlah) values ('010001',200)`,a=yield this.dummyCreate(t,e,!0,n);alert(a);let r="customer",i="customer_id int(11) PRIMARY KEY, customer_name varchar(200) DEFAULT NULL,\n                    address text DEFAULT NULL, latitude varchar(100) DEFAULT NULL, longitude varchar(100) DEFAULT NULL ",o=`insert  into ${r} (customer_id, customer_name, address, latitude, longitude) values\n          (1, 'paijo', 'jl. Kutilang berkicau 12, jakarta barat', '-6.213280', '106.776860');`,c=yield this.dummyCreate(r,i,!0,o);alert(c);let l="product",s="pcode varchar(200) DEFAULT NULL, product_name text DEFAULT NULL,\n      photo text DEFAULT NULL, price decimal(65, 2) DEFAULT NULL ",d=`insert  into ${l}(pcode,product_name,'photo',price) \n      values ('010001','MIRANDA H.C N.BLACK 30.MC1','',10000.00)`,b=yield this.dummyCreate(l,s,!0,d);alert(b);let m="promo",u="promo_code varchar(200) NOT NULL, promo_name text DEFAULT NULL",h=`insert  into ${m} (promo_code,promo_name) values \n      ('pmo-001','Setiap pembelian MIRANDA H.C N.BLACK 30.MC1, mendapat porongan Rp. 1.000,-')`,L=yield this.dummyCreate(m,u,!0,h);alert(L);let N="mutasi_stock",p="id bigint(20) PRIMARY KEY NOT NULL, tgl_mutasi date DEFAULT NULL, \n      pcode varchar(200) NOT NULL, order_id varchar(200) DEFAULT NULL, \n      type_mutasi varchar(1) DEFAULT NULL, jumlah int(11) DEFAULT NULL",O=yield this.dummyCreate(N,p,!1,o);alert(O);let g="order_detail",U="order_detail_id bigint(20) PRIMARY KEY NOT NULL, order_id varchar(200) NOT NULL,\n                        pcode varchar(200) DEFAULT NULL, qty int(11) DEFAULT NULL,\n                        price decimal(65,2) DEFAULT NULL, subtotal decimal(65,2) DEFAULT NULL",f=yield this.dummyCreate(g,U,!1,o);alert(f);let E="order_header",_="order_id varchar(200) PRIMARY KEY NOT NULL, order_date date DEFAULT NULL, \n      customer_id int(11) NOT NULL, promo_code varchar(200) DEFAULT NULL,\n      amount_discount decimal(65,2) DEFAULT NULL, net decimal(65,2) DEFAULT NULL,\n      ppn decimal(65,2) DEFAULT NULL, total decimal(65,2) DEFAULT NULL",T=yield this.dummyCreate(E,_,!1,o);alert(T)}catch(t){alert("Error "+t)}})}insertRow(){this.name_model.length?this.databaseObj.executeSql(`\n      INSERT INTO ${this.table_name} (Name) VALUES ('${this.name_model}')\n    `,[]).then(()=>{alert("Row Inserted!"),this.getRows()}).catch(t=>{alert("error "+JSON.stringify(t))}):alert("Enter Name")}getRows(){this.databaseObj.executeSql(`\n    SELECT * FROM ${this.table_name}\n    `,[]).then(t=>{if(this.row_data=[],t.rows.length>0)for(var e=0;e<t.rows.length;e++)this.row_data.push(t.rows.item(e))}).catch(t=>{alert("error "+JSON.stringify(t))})}deleteRow(t){this.databaseObj.executeSql(`\n      DELETE FROM ${this.table_name} WHERE pid = ${t.pid}\n    `,[]).then(t=>{alert("Row Deleted!"),this.getRows()}).catch(t=>{alert("error "+JSON.stringify(t))})}enableUpdate(t){this.updateActive=!0,this.to_update_item=t,this.name_model=t.Name}updateRow(){this.databaseObj.executeSql(`\n      UPDATE ${this.table_name}\n      SET Name = '${this.name_model}'\n      WHERE pid = ${this.to_update_item.pid}\n    `,[]).then(()=>{alert("Row Updated!"),this.updateActive=!1,this.getRows()}).catch(t=>{alert("error "+JSON.stringify(t))})}}return t.\u0275fac=function(e){return new(e||t)(l.Jb(r.K),l.Jb(s.a),l.Jb(d.a))},t.\u0275cmp=l.Db({type:t,selectors:[["app-home"]],decls:27,vars:6,consts:[["color","warning","size","small","expand","block",3,"routerLink"],["expand","block",3,"click"],["placeholder","Enter Name",3,"ngModel","ngModelChange"],[4,"ngIf","ngIfElse"],["elseTemplateUpdate",""],[4,"ngFor","ngForOf"],["size","small","color","danger",3,"click"],["name","trash"],["size","small","color","warning",3,"click"],["name","create"]],template:function(t,e){if(1&t&&(l.Ob(0,"ion-header"),l.Ob(1,"ion-toolbar"),l.Ob(2,"ion-title"),l.lc(3," Ionic 5 SQLite "),l.Nb(),l.Nb(),l.Nb(),l.Ob(4,"ion-content"),l.Ob(5,"ion-button",0),l.lc(6,"Front "),l.Nb(),l.Ob(7,"ion-button",1),l.Wb("click",function(){return e.createDB()}),l.lc(8," Create DataBase "),l.Nb(),l.Ob(9,"ion-button",1),l.Wb("click",function(){return e.createTable()}),l.lc(10," Create Table "),l.Nb(),l.Ob(11,"ion-button",1),l.Wb("click",function(){return e.getRows()}),l.lc(12," Get Rows "),l.Nb(),l.Ob(13,"ion-item-divider"),l.Ob(14,"ion-input",2),l.Wb("ngModelChange",function(t){return e.name_model=t}),l.Nb(),l.jc(15,b,3,0,"ng-container",3),l.jc(16,m,2,0,"ng-template",null,4,l.kc),l.Nb(),l.Ob(18,"ion-grid"),l.Ob(19,"ion-row"),l.Ob(20,"ion-col"),l.lc(21," Row ID "),l.Nb(),l.Ob(22,"ion-col"),l.lc(23," Name "),l.Nb(),l.Ob(24,"ion-col"),l.lc(25," Delete "),l.Nb(),l.Nb(),l.jc(26,u,10,2,"ion-row",5),l.Nb(),l.Nb()),2&t){const t=l.fc(17);l.zb(5),l.bc("routerLink",l.dc(5,h)),l.zb(9),l.bc("ngModel",e.name_model),l.zb(1),l.bc("ngIf",e.updateActive)("ngIfElse",t),l.zb(11),l.bc("ngForOf",e.row_data)}},directives:[r.r,r.D,r.C,r.m,r.h,r.L,o.h,r.v,r.t,r.M,i.d,i.e,a.i,r.q,r.A,r.l,a.h,r.s],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),t})()}];let N=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Hb({type:t}),t.\u0275inj=l.Gb({imports:[[o.i.forChild(L)],o.i]}),t})(),p=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Hb({type:t}),t.\u0275inj=l.Gb({imports:[[a.b,i.a,r.E,N]]}),t})()}}]);